<!DOCTYPE html>
<html>

<head>
    <title>Wyniki meczów</title>
    <script>
        // Funkcja do przełączania widoczności listy
        function toggleList(id) {
            var list = document.getElementById(id);
            list.style.display = list.style.display === 'none' ? 'block' : 'none';
        }

        function openStats(matchID) {
            // Otwórz stronę 'stats.html' z parametrem 'matchID' w nowym oknie lub karcie przeglądarki
            window.open('/stats?matchID=' + matchID, 'Stats', 'width=600,height=400');
        }

        function openStatsUM(matchID) {
            console.log('Otwieram statsUP.html dla matchID:', matchID);
            window.open('/statsUP?matchID=' + matchID, 'StatsUP', 'width=600,height=400');
        }
    </script>

</head>

<body>

    <header>
        <ul>
            {% if user_type == 'guest' %}
            <li class="user"><a href="/login_register">Logowanie/Rejestracja</a></li>
            {% elif user_type == 'user' %}
            <!-- Dodaj opcje dostępne tylko dla użytkownika -->
            <li class="user"><a href="/user_profile">Profil użytkownika</a></li>
            <li class="user"><a href="/logout">Wyloguj się</a></li>
            {% elif user_type == 'admin' %}
            <!-- Dodaj opcje dostępne tylko dla administratora -->
            <li class="admin"><a href="/admin">Panel administratora</a></li>
            <li class="admin"><a href="/logout">Wyloguj się</a></li>
            {% endif %}
        </ul>
    </header>

    <ul>

        <li><a href="/">Main</a></li>
        <li><a href="/teams">Tabela</a></li>
        <li><a href="/matches">Mecze</a></li>


    </ul>
    <h1>Wyniki meczów</h1>

    <h2 onclick="toggleList('upcoming-list')">Nadchodzące mecze</h2>
    <ul id="upcoming-list" class="">
        {% for match in upcoming_matches %}
        <li onclick="console.log('matchID:', '{{ match[5] }}'); openStatsUM('{{ match[5] }}')">
            {{ match[0] }}
            <br>
            <img src="{{ match[3] }}" alt="Logo drużyny" height="13em"> {{ match[1] }} -:- {{ match[2] }} <img
                src="{{ match[4] }}" alt="Logo drużyny" height="13em">
            <br>
        </li>
        {% endfor %}
    </ul>

    <h2 onclick="toggleList('played-list')">Rozegrane mecze</h2>
    <ul id="played-list" class="hidden">
        {% for match in played_matches %}
        <li onclick="openStats('{{ match[7] }}')">
            {{ match[0] }}
            <br>
            <img src="{{ match[5] }}" alt="Logo drużyny" height="13em"> {{ match[1] }} {{ match[2] }}:{{ match[3] }} {{
            match[4] }} <img src="{{ match[6] }}" alt="Logo drużyny" height="13em">
            <br>
        </li>
        {% endfor %}
    </ul>
</body>

</html>